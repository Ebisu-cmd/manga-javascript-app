let pokemonRepository=function(){let e=[],t=e,n="https://pokeapi.co/api/v2/pokemon/?limit=1126",o=null,i=document.querySelector("#pokemonModal");function r(t){"object"==typeof t&&"name"in t&&"detailsUrl"in t?function(t){e.push(t)}(t):alert("Pokemon object is not correct")}function l(t){if("string"!=typeof t)return void alert("Inputted pokemon name is not a string!");return e.filter(function(e){let n=e.name.toLowerCase(),o=t.toLowerCase();return n.includes(o)})}function c(e){u(e).then(function(){!function(e){let t=document.querySelector(".modal-title"),n=document.querySelector(".modal-body");o=e;for(;n.firstChild;)n.removeChild(n.firstChild);t.innerText=e.name;let i=document.createElement("img");i.setAttribute("src",e.imageUrl),i.setAttribute("alt","picture of: "+e.name);let r=document.createElement("p");r.innerText="height: "+e.height;let l=e.types.map(function(e){return e.type.name}),c=document.createElement("p");c.innerText="type:",l.forEach(function(e){c.innerText+=" "+e}),n.appendChild(i),n.appendChild(r),n.appendChild(c)}(e)})}function u(e){let t=e.detailsUrl;return fetch(t).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=t.types}).catch(function(e){console.error(e)})}let a=null;i.addEventListener("pointerdown",function(e){let t=e.pageX;a=t}),i.addEventListener("pointerup",function(e){if(Math.abs(e.pageX-a)>200){if(e.pageX-a<0){let e=t.indexOf(o);e!==t.length-1&&c(t[e+1]),a=null}else if(e.pageX-a>0){let e=t.indexOf(o);0!==e&&c(t[e-1]),a=null}}else a=null});let d=document.querySelector('input[type="text"]');return d.addEventListener("input",function(){let n=document.querySelector(".container-fluid");if(""===d.value){for(t=e;n.firstChild;)n.removeChild(n.firstChild);pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})}else{for(t=l(d.value);n.firstChild;)n.removeChild(n.firstChild);t.forEach(function(e){pokemonRepository.addListItem(e)})}}),{getAll:function(){return e},addv:r,find:l,addListItem:function(e){let t=document.querySelector(".container-fluid"),n=document.createElement("div"),o=document.createElement("div"),i=document.createElement("button");n.classList.add("row","align-content-center","list-group-item","bg-warning"),n.setAttribute("style","height: 100px"),o.classList.add("col","d-flex","justify-content-center","m-2"),i.innerText=e.name,i.classList.add("btn","btn-danger","btn-lg","btn-block"),i.setAttribute("type","button"),i.setAttribute("style","height: 75px"),i.setAttribute("data-toggle","modal"),i.setAttribute("data-target","#pokemonModal"),o.appendChild(i),n.appendChild(o),t.appendChild(n),function(e,t){e.addEventListener("click",function(){c(t)})}(i,e)},loadList:function(){return fetch(n).then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){r({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:u}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});